@let market = _market();

@if (market !== null){
    <h1>{{ market.name }}</h1>
    <app-market-select-currency [projectId]="market.projectId" [marketId]="market.marketId" [(currencyId)]="_currencyId"></app-market-select-currency>
    
    <app-separator type="horizontal"></app-separator>

    <h2 class="cart-fragment">Корзина</h2>

    <app-market-cart [marketId]="market.marketId"></app-market-cart>

    <app-separator type="horizontal"></app-separator>

    <h2>Каталог товаров</h2>

    <app-market-catalog [isEditMode]="false" [marketId]="market.marketId" [currencyId]="_currencyId()"></app-market-catalog>
    
    <div class="controls">
        <app-button-control value="Изменить рынок" (click)="_router.goto(`/project/${market.projectId}/market/${market.marketId}/edit`)"></app-button-control>
        <app-button-control value="Перейти к корзине" (click)="_scrollToCart()"></app-button-control>
    </div>
}
@else{
    <app-entity-error type="not-found-or-access-denied"></app-entity-error>
}
